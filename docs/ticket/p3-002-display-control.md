### 基本情報

**タイトル**: ペイウォール表示制御の実装

### 概要

ユーザーが既にプレミアムプランに加入済みの場合に、ペイウォールが不要に表示されないように制御します。

### 要件

- [ ] アプリ起動時や関連画面表示時にユーザーの購読状態を確認する
- [ ] 購読済みユーザーに対してはペイウォール表示トリガーを無効化する

### 技術仕様

**技術スタック**: React Native, RevenueCat
**ファイル**: `src/hooks/auth/useAuth.ts` (仮), `src/app/_layout.tsx`
**API**: `Purchases.getCustomerInfo()`

### 実装手順

1. ユーザーの購読情報を管理するグローバルな状態（Context や Zustand など）を用意する。
2. アプリの起動時に `Purchases.getCustomerInfo()` を呼び出し、ユーザーのエンタイトルメント情報を取得する。
3. 取得した情報（例: `customerInfo.entitlements.active['premium']`）をグローバルな状態に保存する。
4. ペイウォールを表示しようとするトリガー箇所（P3-001 で実装）で、まずこのグローバルな状態を確認する。
5. 購読済み（`premium`が有効）であれば、ペイウォールの表示ロジックをスキップする。

### テスト項目

- [ ] プレミアムプラン購読済みのユーザーでアプリを起動した際に、オンボーディング後などにペイウォールが表示されないこと
- [ ] プレミアムプラン購読済みのユーザーがプレミアム機能に直接アクセスできること

### 完了条件

- [ ] 購読済みユーザーに対してペイウォールが表示されないこと

### 注意事項

購読状態は変化する可能性があるため、P5-001 で実装するリスナーと連携して、常に最新の状態を保つことが重要です。

### 関連チケット

- P3-001-display-trigger
- P5-001-status-monitoring
- P5-002-feature-guard
